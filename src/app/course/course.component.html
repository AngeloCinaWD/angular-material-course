<div class="course">
  <h2>{{ course?.description }}</h2>

  <img
    class="course-thumbnail mat-mdc-elevation-specific mat-elevation-z8"
    [src]="course?.iconUrl"
  />

  <!-- aggiungo un loading indicator -->
  <!-- visibile solo quando la property isLoading è true -->
  <div class="spinner-container" *ngIf="isLoading">
    <mat-spinner></mat-spinner>
  </div>
</div>

<!-- DATA TABLE -->
<!-- la tabella si vedrà solo alla fine del caricamento dei dati -->
<table
  mat-table
  class="lessons-table"
  [dataSource]="lessons"
  *ngIf="!isLoading"
>
  <ng-container matColumnDef="seqNo">
    <th mat-header-cell *matHeaderCellDef>Seq. No.</th>
    <td mat-cell *matCellDef="let lesson">{{ lesson.seqNo }}</td>
  </ng-container>

  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef>Description</th>
    <td mat-cell *matCellDef="let lesson">{{ lesson.description }}</td>
  </ng-container>

  <ng-container matColumnDef="duration">
    <th mat-header-cell *matHeaderCellDef>Duration</th>
    <td class="duration-cell" mat-cell *matCellDef="let lesson">
      {{ lesson.duration }}
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

  <tr
    mat-row
    *matRowDef="let lesson; columns: displayedColumns"
    (click)="prova(lesson)"
  ></tr>
</table>
